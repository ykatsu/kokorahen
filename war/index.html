<!doctype html>
<html>
  <head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta id="viewport" name="viewport"
		content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;" />

    <title>ここらへん</title>
    <style type="text/css" media="screen">@import "/jQtouch/jqtouch/jqtouch.css";</style>
    <style type="text/css" media="screen">@import "/jQtouch/themes/jqt/theme.css";</style>
	<style type="text/css" media="screen">@import "/jQtouch/extensions/jqt.bars/jqt.bars.css";</style>
	<style type="text/css" media="screen">@import "/jQtouch/extensions/jqt.bars/themes/jqt/theme.css";</style>
	<style type="text/css" media="screen">@import "/jQtouch/extensions/jqt.listIndex/jqt.listIndex.css";</style>


	<script src="/js/jquery-1.6.0.js" ></script>
	<script src="http://maps.google.com/maps/api/js?sensor=true" type="text/javascript" ></script>

<!--
	<script src="http://maps.google.com/maps/api/js?sensor=true" type="text/javascript" ></script>
-->
	<script src="/jQtouch/jqtouch/jqtouch.js" type="application/x-javascript" charset="utf-8"></script>
	<script src="/jQtouch/extensions/jqt.autotitles.js" type="application/x-javascript" charset="utf-8"></script>
	<script src="/jQtouch/extensions/jqt.bars/jqt.bars.js" type="application/x-javascript" charset="utf-8"></script>
	<script src="/jQtouch/extensions/jqt.listIndex/jqt.listIndex.js" type="application/x-javascript" charset="utf-8"></script>

	<script type="text/javascript" charset="utf-8">
		var jqt = $.jQTouch({
			useFastTouch: true
		});

		$(function(){
			initMap();
		});

		var map;
		var map2;

		function initMap() {

			updateOrientation();

			// デフォルト中心、皇居
			var center = new google.maps.LatLng(35.684699,139.753897);

			// マップ生成
			var mapopts = {
				zoom: 14,
				center: center,
				scaleControl: true,
				mapTypeId: google.maps.MapTypeId.ROADMAP
			}
			map = new google.maps.Map(document.getElementById("mapCanvas"),mapopts);
			var mapopts2 = {
					zoom: 14,
					center: center,
					scaleControl: true,
					mapTypeId: google.maps.MapTypeId.ROADMAP
			}
			map2 = new google.maps.Map(document.getElementById("mapCanvas2"),mapopts2);

			// 現在位置マーカー生成
			marker = new google.maps.Marker({position: center, map: map });
			marker2 = new google.maps.Marker({position: center, map: map2 });

			// マップ、バルーンのイベントハンドラ設定。
			google.maps.event.addListener(map, 'click', onMapClick);
			google.maps.event.addListener(marker, 'click', onMarkerClick);
			//google.maps.event.addListener(balloon, 'domready', onLoadBalloon);
		}

		/**
		 * マップクリックイベント処理。
		 */
		function onMapClick(ev) {
			// 現在位置マーカをクリック位置に移動。
			marker.setPosition(ev.latLng);
			marker.setVisible(true);
		}
		function onMarkerClick(ev) {
			jqt.goTo("#spot", "slideleft");
			setTimeout(function(){
				marker2.setPosition(marker.getPosition());
				marker2.setVisible(true);
				map2.setCenter(marker.getPosition());
				google.maps.event.trigger(map2, "resize");
				map2.setCenter(marker.getPosition());
			},500);
		}

		function updateOrientation() {
			//alert(""+$("html").height());

			var h1 = 45; // $("#mapHeader").height();
			var h2 = $("#tabbar").height();
			$("#mapCanvas").height($("html").height() - h1 - h2);
			//window.setTimeout(function(){
			//window.scrollTo(0, 1)
			//$("#map").height($("body").height()-45);
			//}, 100);
		}
	</script>
	<style type="text/css" media="screen">
		html, body {
			width: 100%;
			height: 100%;
		}
		#map {
			height: 100%;
		}
		#mapCanvas2 {
			width: 300px;
			height: 200px;
			margin: 4px auto 4px auto;
		}

	</style>
</head>

<body onorientationchange="updateOrientation();">
<!-- tabbar -->
<div id="tabbar">
	<div>
	<ul>
		<li><a href="#map" mask="/images/location_pin.png" ><strong>Map</strong></a></li>
		<li><a href="#timeline" mask="/images/clock_time.png" ><strong>TimeLine</strong></a></li>
		<li><a href="#list" mask="/images/list.png" ><strong>List</strong></a></li>
		<li><a href="#memo" mask="/images/edit.png" ><strong>Memo</strong></a></li>
		<li><a href="#config" mask="/images/preferences_gear_5.png" ><strong>Config</strong></a></li>
	</ul>
	</div>
</div>

<div id="jqt">
	<div id="map" class="keep_tabbar">
		<div id="mapHeader" class="toolbar">
			<h1>ここらへん</h1>
			<!--
			<a class="back slideright" href="#home">back</a>
			<a class="button slideleft" id="infoButton" href="#memo">add</a>
			-->
		</div>
		<div id="mapCanvas">
		</div>
    </div>


	<div id="spot"  class="keep_tabbar">
		<div class="toolbar">
			<h1>ここらへん</h1>
			<a class="back slideright" href="#map">Map</a>
			<a class="button" id="infoButton" href="#memo">登録</a>
		</div>
		<div class="s-scrollwrapper">
		<div>
			<img id="spotImage" src="/images/Home.png" width="45%"  Align="left" onclick="$('#spotImageUrl').focus()"/>
			<br/><br/>
			<input type="text" name="name" placeholder="名前" style="font-size:20px;width:50%;" />
			<br/><br/>
			<input id="spotImageUrl" type="url" name="iamge" placeholder="画像URL"
					style="font-size:14px;width:50%;"
					onchange="$('#spotImage').attr('src', this.value)" />
			<br clear="left" />

			<ul class="edit rounded">
				<li><input type="text" name="address" placeholder="住所"/></li>
				<li><input type="text" name="tags" placeholder="タグ"/></li>
				<li><input type="text" name="activeTime" placeholder="営業時間"/></li>
				<li><input type="text" name="yasumi" placeholder="定休日"/></li>
				<li><input type="email" name="email" placeholder="E-Mail"/></li>
				<li><input type="url" name="url" placeholder="URL"/></li>
				<li><input type="text" name="comment" placeholder="備考"/></li>
			</ul>

			<div id="mapCanvas2">
			</div>
		</div>
		</div>
	</div>


	<div id="memo" class="keep_tabbar">
		<div class="toolbar">
			<h1>ここらへん</h1>
		</div>
		<div class="s-scrollwrapper">
		<ul class="edit rounded">
			<li><input type="text" name="name" placeholder="名前"
				id="some_name" /></li>
			<li><input type="text" name="name" placeholder="住所"
				id="some_name" /></li>
			<li><input type="text" name="name" placeholder="コメント"
				id="some_name" /></li>
			<li><input type="text" name="name" placeholder="名前"
				id="some_name" /></li>
			<li><input type="text" name="name" placeholder="住所"
				id="some_name" /></li>
			<li><input type="text" name="name" placeholder="コメント"
				id="some_name" /></li>
			<li><input type="text" name="name" placeholder="名前"
				id="some_name" /></li>
			<li><input type="text" name="name" placeholder="住所"
				id="some_name" /></li>
			<li><input type="text" name="name" placeholder="コメント"
				id="some_name" /></li>
			<li><input type="text" name="name" placeholder="名前"
				id="some_name" /></li>
			<li><input type="text" name="name" placeholder="住所"
				id="some_name" /></li>
			<li><input type="text" name="name" placeholder="コメント"
				id="some_name" /></li>
			<li><input type="text" name="name" placeholder="名前"
				id="some_name" /></li>
			<li><input type="text" name="name" placeholder="住所"
				id="some_name" /></li>
			<li><input type="text" name="name" placeholder="コメント"
				id="some_name" /></li>
			<li><input type="text" name="name" placeholder="名前"
				id="some_name" /></li>
			<li><input type="text" name="name" placeholder="住所"
				id="some_name" /></li>
			<li><input type="text" name="name" placeholder="コメント"
				id="some_name" /></li>
			<li><input type="text" name="name" placeholder="名前"
				id="some_name" /></li>
			<li><input type="text" name="name" placeholder="住所"
				id="some_name" /></li>
			<li><input type="text" name="name" placeholder="コメント"
				id="some_name" /></li>
		</ul>
		</div>
	</div>

</div>


</body>
</html>