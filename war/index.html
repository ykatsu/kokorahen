<!DOCTYPE html> 
<html> 
	<head> 
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta id="viewport" name="viewport"
		content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;" />
	<title>Page Title</title> 
	<!-- This apps Server -->
	<script src="/js/Jsrpc.js?v=1" ></script>
	<script src="/stub/org/kotemaru/kokorahen/jsrpc/Kokorahen.js?v=2" ></script>
	
	<script>
var __Login_user = Kokorahen.getLoginUser();
if (__Login_user == null) {
	location.href = "login.html";
}

if (location.hash != "" && location.hash != null) {
	location.href = "/";
}
	</script>


	<!-- JQuery -->
	<link rel="stylesheet" href="/jqm/jquery.mobile-1.0b2.min.css" />
	<script src="/js/jquery-1.6.2.min.js"></script>
	<script src="/jq.raty/js/jquery.raty.min.js" ></script>
	<script src="/jqm/jquery.mobile-1.0b2.js"></script>

	<!-- google map -->
	<script src="http://maps.google.com/maps/api/js?libraries=geometry&amp;sensor=true"></script>


	<!-- This apps -->
	<script src="/InfoBox.js" ></script>
	<script src="/js/kokorahen/ClosedDays.js"></script>
	<script src="/js/kokorahen/List.js"></script>
	<script src="/js/kokorahen/Login.js"></script>
	<script src="/js/kokorahen/Map.js"></script>
	<script src="/js/kokorahen/Memo.js"></script>
	<script src="/js/kokorahen/Review.js"></script>
	<script src="/js/kokorahen/Spot.js"></script>
	<script src="/js/kokorahen/SpotInfo.js"></script>
	<script src="/js/kokorahen/SpotReview.js"></script>
	<script src="/js/kokorahen/SpotTags.js"></script>
	<script src="/js/kokorahen/Timeline.js"></script>
	<script src="/js/kokorahen/User.js"></script>
	<script src="/js/kokorahen/Util.js"></script>
	<script src="/js/kokorahen/onload.js"></script>
	

	<style type="text/css">
		html, body {
			height: 100%;
			margin: 0;
			padding:0;
		}
		body > div {
			max-width: 320px;
		}
.ui-header {
    height: 40px!important;
}
.ui-header h3.ui-title {
   margin-top: 3px!important;
   margin-bottom: 0px!important;
}

.Navbar .ui-btn .ui-btn-inner {
	padding-top: 32px !important;
	padding-bottom: 0px !important;
}
.Navbar .ui-btn .ui-icon {
	width: 32px!important;
	height: 32px!important;
	margin-left: -15px !important;
	box-shadow: none!important;
	-moz-box-shadow: none!important;
	-webkit-box-shadow: none!important;
	-webkit-border-radius: none !important;
	border-radius: none !important;
}
.Navbar .ui-btn .ui-btn-inner .ui-btn-text{
	font-size: 10px !important;
}

.tab-map .ui-icon {background: url(/images/location_pin.png) 50% 0 no-repeat; background-size: 32px 32px;}
.tab-timeline .ui-icon {background: url(/images/clock_time.png) 50% 0 no-repeat; background-size: 32px 32px;}
.tab-list .ui-icon {background: url(/images/list.png) 50% 0 no-repeat; background-size: 32px 32px;}
.tab-memo .ui-icon {background: url(/images/edit.png) 50% 0 no-repeat; background-size: 32px 32px;}
.tab-user .ui-icon {background: url(/images/user.png) 50% 0 no-repeat; background-size: 32px 32px;}


#mapCanvas {
	padding: 0!important;
}
		#mapCanvas2 {
			width: 270px;
			height: 200px;
			margin: 4px auto 4px auto;
			border: 1px solid black;
		}
		#mapCanvas2Mask {
			position: absolute;
			left: 0;
			top: 0;
			width: 100%;
			height: 100%;
			z-index: 10;
		}

		.BalloonLine1 {
			font-size:16px;
			font-weight: bold;
			line-height:100%;
			white-space:nowrap;
			overflow:hidden;
			text-overflow:ellipsis;
		}
		.BalloonLine2 {
			font-size:10px;
		}
#spotNameWrap {
	margin: .4em 5px;
	margin-right: 20px;
}
#spotNameWrap input{
	width: 100%;
}

.FullSizeInput {
	margin-left: 5px;
	margin-right: 20px;
}
.FullSizeInput input, select, textarea, .ui-select{
	width: 100%!important;
}
.FullSizeInput .ui-slider-switch {
	float:right;
}

#waiting {
	display: block;
	position:absolute;
	z-index:10000000;
	top:0;
	left:0;
	margin: 50% 50%;
}

.SpotDaysBtn {
	clear:both;
	float:right;
	margin-top:-5px;
}
.SpotDaysBtn div,fieldset {
	margin: 0!important;
	padding: 0!important;
}
.SpotDaysBtn .ui-btn-inner {
	padding: 3px 1.5em;
}

	</style>

</head>
<body
	onorientationchange="updateOrientation();"
	onresize="updateOrientation();"
>

	<div style="display:none;"  style="max-width:480px;"  >
		<div id="navbar" data-role="navbar" data-grid="d" class="Navbar" >
			<ul>
				<li><a href="#map" class="tab-map ui-btn-active" myid="tab-map" data-icon="custom" data-transition="none">Map</a></li>
				<li><a href="#timeline" class="tab-timeline" myid="tab-timeline" data-icon="custom" data-transition="none" >TimeLine</a></li>
				<li><a href="#list" class="tab-list" myid="tab-list" data-icon="custom" data-transition="none" >List</a></li>
				<li><a href="#memo" class="tab-memo" myid="tab-memo" data-icon="custom" data-transition="none" >Memo</a></li>
				<li><a href="#user" class="tab-user" myid="tab-user" data-icon="custom" data-transition="none" >User</a></li>
			</ul>
		</div>
	</div>


<!-- == Map =================================================================== -->
	<div id="map" data-role="page" >
		<div data-role="header" data-position="fixed" data-theme="a">
			<h3>
				<a href="#" data-role="button" class="TagSelectBtn"
					onclick="SpotTags.open(this,'ジャンル','search')" 
				>ジャンル</a>
			</h3>
			<a href="javascript:Map.setCenterFromGPS()" data-role="button" data-icon="home" data-iconpos="notext"></a>
			<a href="javascript:Map.onMarkerClick()" data-role="button" data-icon="plus" data-iconpos="notext"></a>
		</div>
		<div data-role="content" id="mapCanvas">
		</div>
		<div data-role="footer" data-position="fixed" >
		</div>
	</div>


<!-- == Spot =================================================================== -->
	<div id="spotInfo" data-role="page" >
		<div data-role="header" data-position="fixed" data-theme="a" data-add-back-btn="true">
			<h1>Spot情報</h1>
			<a data-icon="back" href="javascript:Util.backPage()" data-iconpos="notext"></a>
			<a data-icon="check" href="javascript:SpotInfo.write()" data-iconpos="notext"></a>
		</div>
		<div data-role="content">
		<form action="" name="spot">
			<input name="id" type="hidden"/>
			<input name="lat" type="hidden"/>
			<input name="lng" type="hidden"/>

			<div class="ui-grid-a">

				<div class="ui-block-a" >
					<div align="center" style="margin-right:10px;border:1px solid black" >
					<img id="spotImage" src="/images/Home.png" 
					 	style="width:100%;" align="center" 
					 	onclick="$('#spotImageUrl').focus()"/>
						<div class="FullSizeInput">
						<input id="spotImageUrl" type="url" name="image" placeholder="画像URL"
							style="font-size:12px;width:100%;;"
							onchange="$('#spotImage').attr('src', this.value)" />
						</div>
					</div>
				</div>
				<div class="ui-block-b">
					<div id="spotNameWrap">
						<input type="text" name="name" placeholder="名前" />
					</div>
					<div id="spotReviewBtn">
					<a href="#spotReview"  data-role="button" data-icon="arrow-r" data-iconpos="right">Review</a>
				 	<a href="#spotReview"  data-role="button" data-icon="arrow-r" data-iconpos="right">つぶやく</a>
					</div>
				</div>
			</div>
			
			
			<br/>
			<div data-role=“fieldcontain”>
				<label>住所:</label>
				<div class="FullSizeInput">
					<input type="text" name="address" placeholder="住所" readonly="readonly"/>
				</div>
				<div id="mapCanvas2"><div id="mapCanvas2Mask">タップして補正</div></div>
				<br/>
			</div>

			<div data-role=“fieldcontain”>
				<label for="tags">タグ:</label>
					<a id="spotTags" data-role="button"
						data-iconpos="right" 
						data-icon="arrow-d"
						href="#"
						onclick="SpotTags.open(this,'ジャンル選択(複数可)','form')" 
					>ジャンル選択(複数可)</a>
<!-- 
					<select label="tags" name="tags" id="spotTags"
						multiple=“multiple” tabindex="-1" 
						data-native-menu="false" data-pleceholder=“true”
						onclick="$.mobile.changePage('#spotDaysDialog')"
						onchange="Selector.onChangeWithParent(event, this)">
					</select>
-->
			</div>

			<div data-role=“fieldcontain”>
				<label>営業時間:</label>
				<table width="100%" cellspacing="0">
					<tr>
						<td width="1%">昼</td>
						<td><select name="timeLunchMin" class="TimeSelector" ></select></td>
						<td width="1%">〜</td>
						<td><select name="timeLunchMax" class="TimeSelector" ></select></td>
					</tr>
					<tr>
						<td width="1%">夜</td>
						<td><select name="timeDinnerMin" class="TimeSelector" ></select></td>
						<td width="1%">〜</td>
						<td><select name="timeDinnerMax" class="TimeSelector" ></select></td>
					</tr>
					<tr>
						<td width="1%">休</td>
						<td colspan="3">
							<a id="closedDays" data-role="button"
								data-iconpos="right" 
								data-icon="arrow-d"
								href="#"
								onclick="ClosedDays.open()" >無休</a>
<!--
							<select label="closedDay" name="closedDay" id="closedDay"
								multiple=“multiple” tabindex="-1" 
								data-native-menu="false"
								onchange="Selector.onChangeIntensive(event, this)">
							</select>
-->
						</td>
					</tr>
				</table>
				<div class="FullSizeInput">
					<input type="text" name="openHours" placeholder="営業時間注記"/>
				</div>
			</div>
			<div data-role=“fieldcontain”>
				<label>Email:</label>
				<div class="FullSizeInput">
					<input type="email" name="email" placeholder="E-Mail"/>
				</div>
			</div>
			<div data-role=“fieldcontain”>
				<label>URL:</label>
				<div class="FullSizeInput">
					<input type="url" name="url" placeholder="URL"/>
				</div>
			</div>
			<div data-role=“fieldcontain”>
				<label>備考:</label>
				<div class="FullSizeInput">
					<input type="text" name="comment" placeholder="備考"/>
				</div>
			</div>
			
			<hr/>
		</form>
		</div>
		<!--
		<div data-role="footer"  data-position="fixed" ></div>
		-->
	</div>
	
<!-- == Spot Days Dialog ============================================================= -->
	<div id="spotTagsDialog" data-role="dialog"  >
		<div data-role="header"  data-position="fixed"  data-theme="a">
			<h1>ジャンル</h1>
		</div>
		
		<div data-role="content">
			<br/>
			<ul data-role="listview" id="spotTagsList" >
				<li data-icon="checkbox-on"><a>aaaa</a></li>
			</ul>
		<br/>
		</div>
	</div>
	
<!-- == Spot Days Dialog ============================================================= -->
	<div id="spotDaysDialog" data-role="dialog"   >
		<div data-role="header" data-position="fixed"  data-theme="a">
			<h1>定休日</h1>
		</div>
		
		<div data-role="content" >
		<br/>
			<ul data-role="listview" id="spotDaysList" >
			</ul>
		<br/>
		</div>
	</div>



	
<!-- == TimeLine =================================================================== -->
	<div id="timeline" data-role="page" >
		<div data-role="header" data-position="fixed" >
			<h1>TimeLine</h1>
		</div>
		<div data-role="content"  >	
			<div id="timeLineList"></div>
		</div>
		<div data-role="footer"  data-position="fixed" >
		</div>
	</div>

<!-- == LIst =================================================================== -->
	<div id="list" data-role="page">
		<div data-role="header" data-position="fixed">
			<h3>
				<a href="#" data-role="button" 
					onclick="SpotTags.open(this,'ジャンル','search')" 
				>ジャンル</a>
			</h3>
		</div>
		<div data-role="content">
			<div id="listSpots">
				<ul data-role="listview"  id="listSpots" data-inset="true" ></ul>
			</div>
		</div>
		<div data-role="footer"  data-position="fixed" >
		</div>
	</div>

<!-- == memo =================================================================== -->
	<div id="memo" data-role="page">
		<div data-role="header" data-position="fixed">
			<h1>Memo</h1>
		</div>
		<div data-role="content">
			<div>
				工事中
			</div>
		</div>
		<div data-role="footer"  data-position="fixed" >
		</div>
	</div>
	
<!-- == SpotReview =================================================================== -->
	<div id="spotReview" data-role="page"  >
		<div data-role="header" data-position="fixed" data-theme="a">
			<h1>Spotレビュー</h1>
			<a data-icon="back" href="javascript:Util.backPage()" data-iconpos="notext"></a>
			<a data-icon=“plus” href="javascript:SpotReview.onReviewClick()" data-iconpos="notext"></a>
		</div>
		<div data-role="content" >
			<br/>
			<div id="spotReviewList" >
			</div>
		</div>
		<!--
		<div data-role="footer"  data-position="fixed" >
		</div>
		-->
	</div>

<!-- == Review =================================================================== -->
	<div id="review"  data-role="page">
		<div data-role="header" data-position="fixed">
			<h1>Review</h1>
			<a data-icon="back" href="javascript:Util.backPage()" data-iconpos="notext"></a>
			<a data-icon="check" href="javascript:Review.write()" data-iconpos="notext"></a>
		</div>
		<div data-role="content">
		<form action="" name="review">
			<input name="id" type="hidden"/>
			<input name="spotId" type="hidden"/>
			<input name="appraise" type="hidden"/>

			<div class="FullSizeInput">
				<input type="text" name="name" placeholder="名前" style="font-size:20px;width:50%;" />
			</div>
			<div style="width:300px" id="appraise_raty"></div>
			<div class="FullSizeInput">
				<textarea name="comment"  cols="100%" rows="10" placeholder="コメント" ></textarea>
			</div>
		</form>
		</div>
		<!--
		<div data-role="footer"  data-position="fixed" >
		</div>
		-->
	</div>



<!-- == User =================================================================== -->
	<div id="user" data-role="page">
		<div data-role="header" data-position="fixed">
			<h1>User</h1>
			<a data-icon="gear" href="javascript:" data-iconpos="notext"></a>
		</div>
		<div data-role="content">
				<form action="" name="user">
					<div class="FullSizeInput">
						<label ><nobr>User name:</nobr></label><br/>
						<input  name="username" type="text" readonly="true"/>
					</div>
					<div class="FullSizeInput">
						<label ><nobr>Nick name:</nobr></label><br/>
						<input name="nickname" type="text" />
					</div>
					<div class="FullSizeInput">
						<label><nobr style="vertical-align:top;">Auto twit:</nobr></label>
						<select  name="autoTwit" data-role="slider">
							<option value="false">Off</option>
							<option value="true">On</option>
						</select>
						<br clear="all"/>
					</div>
					<br clear="all"/>
					<a href="javascript:Login.logout()" data-role="button">Logout</a>
				</form>
		</div>
		<div data-role="footer"  data-position="fixed" >
		</div>
	</div>
	
<!-- == Login =================================================================== -->
<!-- 
	<div id="login" data-role="page">
		<div data-role="header" data-position="fixed">
			<h1>Login</h1>
		</div>
		<div data-role="content">
			<a href="javascript:Login.login('google')" data-role="button" >Google</a>
			<a href="javascript:Login.login('twitter')" data-role="button" >Twitter</a>
		</div>
	</div>
-->
</body>
</html>
